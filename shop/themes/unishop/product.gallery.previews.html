{strip}
{if count($product.images) > 1 || (count($product.images) === 1 && $video)}
    {$isCarousel = count($product.images) > 6 && !$wa->isMobile()}
    <div id="product-gallery" class="product_gallery-previews{if $isCarousel} carousel-vertical{/if}">
        <div {if $isCarousel}data-min-items="6" {/if}class="product_image-preview-list{if $isCarousel} js-product-gallery-previews{/if}">
            {$position = 0}
            {foreach $product.images as $image}
                <div data-id="{$image.id}" data-position="{$position}" class="js-gallery-preview product_image-preview{if $image.id == $product.image_id} selected{/if}">
                    <a id="product-image-{$image.id}" href="{$wa->shop->imgUrl($image, '970')}">
                        {$wa->shop->imgHtml($image, '70')}
                    </a>
                </div>
                {$position = $position + 1}
            {/foreach}
            {if $video}
                <div data-id="video" data-video="true" data-position="{$position}" class="js-gallery-preview product_image-preview product_image-preview--video{if count($product.images) == 0} selected{/if}">
                    <a href="{$video.url}">
                        <i class="fa fa-video-camera" aria-hidden="true"></i>
                    </a>
                </div>
                {$position = $position + 1}
            {/if}
        </div>
    </div>
{/if}
{/strip}
