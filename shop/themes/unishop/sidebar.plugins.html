{strip}
<!-- plugin hook: 'frontend_nav' -->
{* @event frontend_nav.%plugin_id% *}
{$_hook_frontend_sidebar_section = false}
{if isset($frontend_nav)}
    {foreach $frontend_nav as $plugin => $output}
        {if !empty($output)}
            {$_hook_frontend_sidebar_section = true}
        {/if}
    {/foreach}
{/if}


{function name=showAllBtn}
    {if (int)$theme_settings.max_elements_plugins_sidebar > 0}
        <span class="show-all-btn show-all-btn--plugins hide sd-color js-nav-sidebar-show">
            <i class="fa fa-plus icon js-icon-plus" aria-hidden="true"></i>
            <i class="fa fa-minus icon js-icon-minus hide" aria-hidden="true"></i>
            <span class="link-half link-half--act">[`Show all`]</span>
        </span>
    {/if}
{/function}

{if $_hook_frontend_sidebar_section}
    {if isset($frontend_nav)}
        {foreach $frontend_nav as $_key => $_}
            <div class="aside-wrap aside-wrap--plugin js-nav-sidebar-wrap">
                <div class="aside-wrap_head bs-color">
                    {if substr($_key, -7) == '-plugin'}{$wa->pluginName(substr($_key, 0, -7))}{else}[`More`]{/if}
                </div>
                <div class="js-list aside-wrap_{$_key}">
                    {$_}
                    {showAllBtn}
                </div>
            </div>
        {/foreach}
    {/if}
    {if isset($frontend_nav_aux)}
        {foreach $frontend_nav_aux as $_key => $_}
            <div class="aside-wrap aside-wrap--plugin js-nav-sidebar-wrap">
                <div class="aside-wrap_head bs-color">
                    {if substr($_key, -7) == '-plugin'}{$wa->pluginName(substr($_key, 0, -7))}{else}[`More`]{/if}
                </div>
                <div class="js-list aside-wrap_{$_key}">
                    {$_}
                    {showAllBtn}
                </div>
            </div>
        {/foreach}
    {/if}
{/if}
{/strip}