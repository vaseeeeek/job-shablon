{strip}

{if !empty($theme_settings.homepage_brands) && class_exists('shopBrandViewHelper')}

    {$brands = []}
    {$brands = shopBrandViewHelper::getAllBrands()}

    {if count($brands) > 0}
        {if $theme_settings.homepage_brands_type == 'with_header'}
            <div class="brands-mainpage-head">
                <div class="brands-mainpage-head__inner">[`Our brands`]
                    <div class="all_brands maincolor">
                        <a href="{$wa->getUrl('shop/frontend/brands')}">[`All brands`]</a> â†’
                    </div>
                </div>
            </div>
        {/if}
        <div class="js-brands-carousel brands-mainpage margin-bottom">
            <div class="js-brands-mainpage-direction"></div>
            <div class="owl-carousel">
                {foreach $brands as $b}
                    <div class="brands-mainpage_el js-brands-mainpage-el">
                        <a title="{$b.name|escape}" href="{$b.frontend_url}">
                            {if $b.image_url}
                                {if $theme_settings.brands_list_images_lazy}
                                    <img class="owl-lazy" src="{$wa_theme_url}img/lazy-image.png" data-src="{$b.image_url}" alt="{$b.name|escape}">
                                {else}
                                    <img src="{$b.image_url}" alt="{$b.name|escape}">
                                {/if}
                            {else}
                                <span>{$b.name|escape}</span>
                            {/if}
                        </a>
                    </div>
                {/foreach}
            </div>
        </div>
    {/if}
{/if}
{/strip}