{strip}
{if count($category.subcategories) > 0}
    <div class="js-cat_sub" data-save-filters="true">
        {if isset($category.params.sub_view) && !empty($category.params.sub_view)}
            {$sub_view = $category.params.sub_view}
        {/if}

        {if class_exists('shopWmimageincatPlugin')}
            {$Wmimages = shopWmimageincatPlugin::getCategoryImageObj()}
        {/if}

        {if !isset($sub_view)}
            {$sub_view = $theme_settings.cat_view_subs}
        {/if}
        {if $sub_view == 'image'}
            {include file="categories.grid.html" categories=$category.subcategories}
        {else if $sub_view == 'icon'}
            {include file="sabcat.icons.html"}
        {else}
            {include file="sabcat.noimage.html"}
        {/if}
    </div>
{/if}
{/strip}