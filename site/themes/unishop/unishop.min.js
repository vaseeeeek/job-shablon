function Product(e,t){this.form=$(e),this.add2cart=this.form.find(".js-add2cart"),this.button=this.add2cart.find(".js-submit-form"),this.skFastButton=this.form.find(".js-sk-oneclick-open"),this.discount=this.form.closest(".js-product-card").find(".js-product-discount"),this.savedWrap=this.form.closest(".js-product-card").find(".js-product-saving"),this.isSkuUrl=this.form.data("sku-url");for(var i in t)this[i]=t[i];var a=this;if(this.form.find(".services input[type=checkbox]").change(function(){var e=$('select[name="service_variant['+$(this).val()+']"]');e.length&&($(this).is(":checked")?e.removeAttr("disabled"):e.attr("disabled","disabled")),a.cartButtonVisibility(!0),a.updatePrice()}),this.form.find(".services .service-variants").on("change",function(){a.cartButtonVisibility(!0),a.updatePrice()}),this.form.find(".inline-select a").click(function(){var e=$(this).closest(".inline-select");return e.find("a.selected").removeClass("selected"),$(this).addClass("selected"),e.find("select.js-sku-feature, input.js-sku-feature").val($(this).data("value")).change(),!1}),this.form.find(".skus input[type=radio], .skus select").change(function(){if($(this).find("option").length)var e=$(this).find("option:selected");else var e=$(this);e.data("image-id")&&$("#product-image-"+e.data("image-id")).click(),e.data("disabled")?(a.button.addClass("disabled"),a.skFastButton.addClass("disabled")):(a.button.removeClass("disabled"),a.skFastButton.removeClass("disabled"));var t=e.attr("value");a.updateSkuServices(t),a.cartButtonVisibility(!0),a.updatePrice(),a.isSkuUrl&&a.updateURLSku(t),a.updateFeaturesList(t)}),$(".skus input[type=radio]").length){var s=this.form.find(".skus input[type=radio]:checked:not(:disabled)");s.length||(s=this.form.find(".skus input[type=radio]:not(:disabled):first").prop("checked",!0).click()),s.change()}else if($(".skus option").length){var s=this.form.find(".skus option:selected:not(:disabled)");s.length||(s=this.form.find(".skus option:not(:disabled):first").prop("selected",!0).click()),s.change()}void 0!==s&&s.length&&s.data("image-id")&&productGallery.changeLargeImage($("#product-image-"+s.data("image-id"))),this.form.find("select.js-sku-feature, input.js-sku-feature").change(function(){var e="";a.form.find("select.js-sku-feature, input.js-sku-feature").each(function(){e+=$(this).data("feature-id")+":"+$(this).val()+";"});var t=a.features[e];t?(t.image_id&&productGallery.changeLargeImage($("#product-image-"+t.image_id)),a.updateSkuServices(t.id),t.available?(a.button.removeClass("disabled"),a.skFastButton.removeClass("disabled")):(a.form.find("div.stocks div").hide(),a.form.find(".sku-no-stock").show(),a.button.addClass("disabled"),a.skFastButton.addClass("disabled")),a.add2cart.find(".price").data("price",t.price),a.updatePrice(t.price,t.compare_price),a.isSkuUrl&&a.updateURLSku(t.id),a.updateFeaturesList(t.id)):(a.form.find("div.stocks div").hide(),a.form.find(".sku-no-stock").show(),a.button.addClass("disabled"),a.skFastButton.addClass("disabled"),a.add2cart.find(".js-compare-at-price").hide(),a.add2cart.find(".price").empty()),a.cartButtonVisibility(!0)}),this.form.find("select.js-sku-feature:first, input.js-sku-feature:first").change(),this.form.find(".skus input:radio:checked").length||this.form.find(".skus input:radio:enabled:first").attr("checked","checked"),this.form.find(".skus option:selected").length||this.form.find(".skus option:enabled:first").attr("selected","selected"),a.showAllSkus()}function is_touch_device(){return"ontouchstart"in window||navigator.maxTouchPoints}function viewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var main={init:function(){var e=this;e.retinaLogo(),e.moveTop(),e.locationChange(),e.searchAuto(),e.previewCart(),e.addTouchClass(),e.numberInput(),e.showAllPlugins(),e.contentHeight(),setTimeout(e.contentHeight,2e3)},retinaLogo:function(){var e=$(".js-logo-retina");e.length&&e.retina({force_original_dimensions:!1})},moveTop:function(){var e=$("#move-to-top"),t=$(".js-content-move");t.length&&e.length&&($(window).scroll(function(){$(document).scrollTop()>=t.offset().top?e.fadeIn():e.fadeOut()}),e.click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},500)}))},locationChange:function(){$(".js-language").on("click",function(e){e.preventDefault();var t=location.href;-1==t.indexOf("?")?t+="?":t+="&",location.href=t+"locale="+$(this).data("value")})},searchAuto:function(){$(".js-search-auto").on("keyup",function(){var e=$(this),t=e.val(),i=e.closest("form"),a=i.attr("action"),s=i.find(".js-search-auto-result");t.length>3&&$.get(a+"?query="+t+"&ajax=1",function(e){var t=$(e).find(".js-auto-search");s.html(""),t.length?(s.show(),s.html(t)):s.hide()})}),$("body").click(function(e){var t=$(".js-search-auto-result");$(".js-search-auto").is(e.target)||t.is(e.target)||0!=t.has(e.target).length||t.hide()})},previewCart:function(){$(".js-preview-cart").each(function(){var e=$(this),t=e.find(".js-cart-popup");t.length&&e.hover(function(){var i=e.data("url");t.html(""),$.get(i+"?ajax=1",function(e){$(e).find(".js-cart-ajax").length&&t.html(e)})})})},addTouchClass:function(){is_touch_device()&&$("body").removeClass("no-touch").addClass("touch")},numberInput:function(){$("body").on("keyup",".js-number",function(){var e=/[^0-9]/g;$(this).val($(this).val().replace(e,""))})},contentHeight:function(){var e=$(".js-content"),t=$(".js-left-sidebar"),i=$(".js-right-sidebar"),a=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"));if(e.css("min-height","0"),e.length&&t.length){var s=e.outerHeight(),n=t.outerHeight();s<n&&e.css("min-height",parseFloat(n)-a-2+"px")}if(e.length&&i.length){var s=e.outerHeight(),o=i.outerHeight();s<o&&e.css("min-height",parseFloat(o)-a-2+"px")}},showAllPlugins:function(){$(".js-nav-sidebar-wrap").each(function(){$(this).find(".menu-v li:hidden").length&&(btn=$(this).find(".js-nav-sidebar-show"),btn.removeClass("hide"),btn.on("click",function(){$(this).closest(".js-nav-sidebar-wrap").find(".menu-v li:hidden, .menu-v li.show").toggleClass("show"),$(this).find(".js-icon-plus, .js-icon-minus").toggleClass("hide")}))})}},tabs={init:function(){var e=this;e.initSelectTab(),e.selectTab(),e.moveToTabContent()},selectTab:function(){var e=$(".js-tab"),t=$(".js-tab-content");e.on("click",function(){var i=$(this),a=i.data("tab-content");e.removeClass("selected"),t.removeClass("selected"),i.addClass("selected"),$("#"+a).addClass("selected")})},moveToTabContent:function(){var e=$(".js-move-to-tab"),t=$(".js-tab-content");e.on("click",function(e){e.preventDefault();var i=$(this),a=$(".js-tab"),s=$("#"+i.data("tab-content")),n=$('.js-tab[data-tab-content="'+i.data("tab-content")+'"]');a.removeClass("selected"),n.addClass("selected"),t.removeClass("selected"),s.addClass("selected");var o=s.offset().top-50;$("html,body").animate({scrollTop:o},500)})},initSelectTab:function(){var e=$(".js-tabs");e.length&&e.each(function(){var e=$(this),t=e.find(".selected");if(t.length||(t=e.find(".js-tab:first")),t.length){var i=$("#"+t.data("tab-content"));i.length&&(t.addClass("selected"),i.addClass("selected"))}})}},accordionTabs={init:function(){var e=this;e.initSelectTab(),e.selectTab(),e.moveToTabContent()},selectTab:function(){var e=$(".js-accordion-tab");e.on("click",function(){var t=$(this),i=t.data("tab-content"),a=e.closest(".js-accordion-tabs-outer").find("#"+i);a.is(":visible")?(t.removeClass("selected"),a.removeClass("selected")):(t.addClass("selected"),a.addClass("selected"))})},moveToTabContent:function(){$(".js-move-to-tab").on("click",function(e){e.preventDefault();var t=$(this),i=$("#"+t.data("tab-content"));i.closest(".js-accordion-tabs-outer").find('.js-accordion-tab[data-tab-content="'+t.data("tab-content")+'"]').addClass("selected"),i.addClass("selected");var a=i.offset().top-40;$("html,body").animate({scrollTop:a},500)})},initSelectTab:function(){var e=$(".js-accordion-tabs-outer");e.length&&e.each(function(){var t=$(this),i=t.find(".js-accordion-tab.selected");if(!i.length&&(i=t.find(".js-accordion-tab:first"),i.length)){var a=e.find("#"+i.data("tab-content"));a.length&&(i.addClass("selected"),a.addClass("selected"))}})}},form={init:function(){var e=this;e.formStyler(),e.submit()},formStyler:function(){if($("body").on("change",'input[type="checkbox"]',function(){$(this).is(":checked")?($(this).closest(".jq-checkbox, .js-checkbox-styler").addClass("checked"),$(this).closest("label").addClass("checked")):($(this).closest(".jq-checkbox, label, .js-checkbox-styler").removeClass("checked"),$(this).closest("label").removeClass("checked"))}),$("body").on("change",'input[type="radio"]',function(){$('input[type="radio"][name="'+$(this).attr("name")+'"]').each(function(){var e=$(this);e.is(":checked")?(e.closest(".jq-radio, .js-radio-styler").addClass("checked"),e.closest("label").addClass("checked")):(e.closest(".jq-radio, .js-radio-styler").removeClass("checked"),e.closest("label").removeClass("checked"))})}),!globalThemeSettings.isFormStylerInit)return!1;var e=$('input[type="checkbox"]:not(.js-checkbox-styler-input):not(.js-none-styler):not(.shop-sk-callback__checkbox), input[type="radio"]:not(.js-radio-styler-input):not(.buy1step-auth__variant):not(.js-none-styler), .js-select');if(!e.length)return!1;e.styler(),$('input[type="checkbox"], input[type="radio"], .js-select').styler(),$('.js-addgifts__cart-item input[type="radio"], .searchpro__page-filters input[type="checkbox"], .searchpro__page-filters input[type="radio"], .searchpro__page-filters .js-select').styler("destroy")},submit:function(){$("body").on("click",".js-submit-form",function(){var e=$(this),t=e.closest("form");e.hasClass("disabled")||t.submit()})}},selectList={init:function(){$("body").on("click",".js-select-toggle",function(){var e=$(this).closest(".js-select-list").find(".js-select-items");e.is(":visible")?e.hide():e.show()}),$("body").on("click",".js-select-toggle a",function(e){e.preventDefault()})}},menu={init:function(){var e=this;e.responsiveMenu(),e.resizeMenu(),e.headerMenuHover(),e.sidebar()},responsiveMenu:function(){var e=this,t=$(".js-resp-nav");if(!t.length)return!1;jQuery.each(t,function(){e.responsived($(this))})},resizeMenu:function(){var e=this;if(!$(".js-resp-nav").length)return!1;$(window).resize(function(){e.responsiveMenu()})},responsived:function(e){var t=e.width(),i=e.children(".js-resp-nav-el"),a=e.find(".js-resp-nav-else"),s=parseFloat(a.removeClass("hide").outerWidth(!0)),n=a.find(".js-resp-subnav-else"),o=0;a.addClass("hide"),n.html(""),i.removeClass("hide"),jQuery.each(i,function(){var e=$(this),i=parseFloat(e.outerWidth(!0));o+i+s>t&&(a.removeClass("hide"),e.clone().appendTo(n),e.addClass("hide")),o+=e.outerWidth(!0)})},headerMenuHover:function(){var e=$("#header-nav"),t=$('.js-nav-btn[data-id="'+e.attr("id")+'"]'),i=$(".js-header-nav-el");t.is(":visible")||i.hover(function(){var e=$(this),t=e.children(".js-header-nav-sub");t.css("padding-top","15px"),t.css("opacity","0"),t.show(),t.animate({paddingTop:"0",opacity:1},300)},function(){$(this).children(".js-header-nav-sub").hide()})},sidebar:function(){this.sidebarInit(),$(".js-menu-v-open").click(function(){var e=$(this),t=$(e.parent().find(".js-menu-v-submenu")[0]);t.is(":visible")?(t.hide(),e.removeClass("selected")):(t.show(),e.addClass("selected"))})},sidebarInit:function(){var e=$(".js-sidebar-menu"),t=e.find(".selected"),i=t.parents(".js-menu-v-submenu");i.removeClass("hide"),i.each(function(){$(this).parent().find(".js-menu-v-open").first().addClass("selected")})}},slider={sliderContainer:$(".js-main-slider"),init:function(){var e=this;e.sliderContainer.length&&(e.sliderAuto(),e.sliderInteraction())},sliderAuto:function(){var e=this,t=1e3*parseInt(e.sliderContainer.data("pause"));t>0&&setTimeout(function(){e.sliderInit(null,t)},t)},sliderInteraction:function(){var e=this;$(".js-slider-init-interaction").on("click",function(){e.sliderInit($(this).data("index"),!1),e.sliderContainer.trigger("stop.owl.autoplay")}),is_touch_device()&&e.sliderContainer.swipe({allowPageScroll:"auto",threshold:20,swipe:function(t,i,a,s,n,o){"left"==i?e.sliderInit("next",!1):"right"==i&&e.sliderInit("prev",!1),e.sliderContainer.hasClass("owl-loaded")&&e.sliderContainer.trigger("stop.owl.autoplay")}})},sliderInit:function(e,t){var i=this;if(i.sliderContainer.hasClass("owl-loaded"))return!1;var a=!!t,s=i.sliderContainer.closest(".js-slider-wrap").find(".js-slider-nav"),n=i.sliderContainer.closest(".js-slider-wrap").find(".js-slider-dots"),o={loop:!0,margin:0,nav:!0,lazyLoad:!0,autoHeight:!0,navContainer:s,dotsContainer:n,items:1,mouseDrag:!1,navText:["",""],onInitialize:function(){s.html(""),n.html("")},onLoadedLazy:function(e){"product"==i.sliderContainer.data("type")&&e.element.retina()}};a&&(o.autoplay=!0,o.autoplayTimeout=t,o.autoplayHoverPause=!0),i.sliderContainer.owlCarousel(o),$(".js-main-slider .owl-prev, .js-main-slider .owl-next, .js-main-slider owl-dot").on("click",function(e){i.sliderContainer.trigger("stop.owl.autoplay")}),e&&("prev"==e?i.sliderContainer.trigger("prev.owl.carousel"):"next"==e?i.sliderContainer.trigger("next.owl.carousel"):i.sliderContainer.trigger("to.owl.carousel",[parseInt(e)]))}},photoGallery={init:function(){var e=$(".js-sidebar-photos").bxSlider({nextText:"",prevText:"",pager:!1,responsive:!0,auto:!0,pause:6500,autoHover:!0,speed:400,useCSS:!1,onSliderLoad:function(t){$(".js-sidebar-photos .bx-next, .js-sidebar-photos .bx-prev, .js-sidebar-photos .bx-pager-item").click(function(){e.stopAuto()})}})}},modalForm={init:function(){var e=this;e.loadContentForm("a.js-form-popup"),e.loadContentForm('.js-ajax-form a[href="/login/"]'),e.loadContentForm('.js-ajax-form a[href="/forgotpassword/"]'),e.submitForm()},loadContentForm:function(e){var t=this;$("body").on("click",e,function(e){e.preventDefault();var i=$(this).attr("href")+"?ajax=1";$.magnificPopup.close(),$("body").prepend("<div class='js-loading-bg mfp-bg mfp-ready'><div class='mfp-preloader'></div></div>"),$.get(i,function(e){$(".js-loading-bg").remove();var a=$(e).find(".js-ajax-form");t.openModal(a,i)})})},openModal:function(e,t){$(e).find("form").attr("action",t),$(e).find('input[type="checkbox"], input[type="radio"], .js-select').styler(),$.magnificPopup.open({items:{src:"<div class='popup-content'>"+e.outerHTML()+"</div>"},type:"inline"},0)},submitForm:function(){var e=this;$("body").on("submit",".js-ajax-form form",function(t){var i=$(this).closest(".js-ajax-form");if(!i.find(".wa-login-form-wrapper").length&&!i.find(".wa-forgotpassword-form-wrapper").length){t.preventDefault();var a=$(this).attr("action"),s=$(this).serialize(),n=$(this).find('input[type="submit"]');n.hide(),n.after($('<i class="icon16 loading js-loading"></i>')),$.post(a,s,function(t){var i=$(t).find(".js-ajax-form");i.length>0?(e.openModal(i,a),n.show(),$(this).find(".js-loading").remove()):window.location.reload()})}})}},dropDownWrap={init:function(){var e=this,t=".js-drop-down-wrap";$(document).click(function(e){(!$(e.target).closest(t).length&&!$(e.target).closest(".js-drop-down-outer").length||$(e.target).hasClass("js-bg"))&&$(t).each(function(){$(this).removeClass("show")})}),$(".js-btn-drop-down").on("click",function(){var i=$(this),a=$("#"+$(this).data("id"));a.is(":visible")?a.removeClass("show"):($(t).each(function(){$(this).removeClass("show")}),e.open(i,a))})},open:function(e,t){t.is(":visible")?(t.animate({opacity:0},200,function(){t.removeClass("show")}),e.removeClass("active")):(t.css("padding-top","20px"),t.css("opacity","0"),t.addClass("show"),t.animate({paddingTop:"0",opacity:1},200),e.addClass("active"))}},categoriesMainMenu={init:function(){var e=this;e.dropDownDisclosed(),e.dropDown(),e.mobileShowSubmenu(),e.showBg(),e.headerCategoriesImages()},dropDownDisclosed:function(){var e=this,t=$(".js-cat-subs-disclosed"),i=$("#header-nav-categories"),a=i.data("delay"),s=i.data("lazy"),n=i.data("retina");t.hover(function(){var o=$(this),r=o.find(".js-submenu").first(),l="absolute"==r.css("position"),d="absolute"==i.css("position"),c=o.closest(".js-catmenu-wrap");if(s?categoriesImages.lazyImages(r.find(".js-cat-submenu-image"),n):n&&categoriesImages.retinaImages(r.find(".js-cat-submenu-image")),l&&r.length>0)if(a)r.stop(!0).delay(150).fadeIn(1,function(){var i=r.outerWidth(!0);t.hasClass("position-relative")||(c.css("padding-right",i+"px"),d&&e.calcHeight(c,r))});else{r.show();var u=r.outerWidth(!0);t.hasClass("position-relative")||(c.css("padding-right",u+"px"),d&&e.calcHeight(c,r))}},function(){var e=$(this),t=e.find(".js-submenu").first(),i="absolute"==t.css("position"),s=e.closest(".js-catmenu-wrap");i&&(a?t.stop(!0).delay(150).fadeOut(1,function(){s.removeAttr("style")}):(t.hide(),s.removeAttr("style")))})},dropDown:function(){var e=this,t=$(".js-cat-subs-dropdown"),i=$("#header-nav-categories").data("delay");t.hover(function(){var a=$(this),s=a.find(".js-submenu").first(),n="absolute"==s.css("position"),o="absolute"==$("#header-nav-categories").css("position"),r=a.closest(".js-catmenu-wrap"),l=0;n&&(s.length&&(l+=258,i?s.stop(!0).delay(150).fadeIn(1):s.show()),t.hasClass("position-relative")||(r.css("margin-right",l+"px"),o&&e.calcHeight(r,s)))},function(){var e=$(this),t=e.find(".js-submenu"),a="absolute"==t.css("position"),s=e.closest(".js-catmenu-wrap");a&&(i?t.stop(!0).delay(150).fadeOut(1,function(){s.removeAttr("style")}):(t.hide(),s.removeAttr("style")))});var a=$(".js-subcatmenu-el");a.hover(function(){var t=$(this),s=t.find(".js-submenu").first(),n="absolute"==s.css("position"),o="absolute"==$("#header-nav-categories").css("position"),r=t.closest(".js-catmenu-wrap"),l=518;n&&(i?s.stop(!0).delay(150).fadeIn(1,function(){a.hasClass("position-relative")||(r.css("margin-right",l+"px"),o&&e.calcHeight(r,s))}):(s.show(),a.hasClass("position-relative")||(r.css("margin-right",l+"px"),o&&e.calcHeight(r,s))))},function(){var e=$(this),t=e.find(".js-submenu").first(),s="absolute"==t.css("position"),n=e.closest(".js-catmenu-wrap"),o=258;e.closest(".js-cat-subs-dropdown");s&&(i?t.stop(!0).delay(150).fadeOut(1,function(){a.hasClass("position-relative")||n.css("margin-right",o+"px")}):(t.hide(),a.hasClass("position-relative")||n.css("margin-right",o+"px")))})},calcHeight:function(e,t){var i=t.outerHeight(!0);i>e.outerHeight(!0)&&e.css("height",i+"px")},mobileShowSubmenu:function(){$(".js-catmenu-el-caret").on("click",function(){var e=$(this),t=e.closest(".js-cat-subs-disclosed, .js-cat-subs-dropdown, .js-subcatmenu-el"),i=$(t.find(".js-submenu").first());"absolute"!=i.css("position")&&(i.is(":visible")?(i.hide(),e.removeClass("open")):(i.show(),e.addClass("open")))})},showBg:function(){var e=$("#header-nav-categories.desktop-show"),t=$("#header-nav-categories.desktop-show ~ .js-bg");isHoverDelay=$("#header-nav-categories").data("delay"),isHoverDelay?e.hover(function(){t.stop(!0).delay(150).fadeIn(1)},function(){t.stop(!0).delay(100).fadeOut(1)}):e.hover(function(){t.show()},function(){t.hide()})},headerCategoriesImages:function(){var e=$("#header-nav-categories"),t=e.data("lazy"),i=e.data("retina");t?categoriesImages.lazyImages(e.find(".js-cat-menu-image"),i):i&&categoriesImages.retinaImages(e.find(".js-cat-menu-image"))}},mobileMenu={init:function(){var e=this;e.hideShow(),e.showSubmenu()},hideShow:function(){$(".js-nav-btn").on("click",function(){var e=$(this),t=$("#"+e.data("id"));t.hasClass("show")?(t.removeClass("show"),e.removeClass("show")):(t.addClass("show"),e.addClass("show"))})},showSubmenu:function(){$(".js-nav-caret").on("click",function(){var e=$(this).closest(".js-header-nav-el");e.hasClass("open")?(e.removeClass("open"),$(this).removeClass("open")):(e.addClass("open"),$(this).addClass("open"))})}},mobileSearch={init:function(){var e=$(".js-show-header-nav-search"),t=$(".js-header-nav-search");e.on("click",function(){t.is(":visible")?(t.removeClass("show"),$(this).removeClass("active")):(t.addClass("show"),$(this).addClass("active"))})}},fixedPanel={init:function(){var e=this,t=$("#main-content"),i=$(".js-fixed");t.length&&i.length&&(e.fixPanel(t,i),$(window).scroll(function(){e.fixPanel(t,i)}),$(window).resize(function(){e.fixPanel(t,i)}))},fixPanel:function(e,t){var i=$(document).scrollTop(),a=e.offset().top,s=viewport();i>=a||s.width<=1e3?t.is(":visible")||(t.css("padding","3px 0"),t.css("bottom","-50px"),t.addClass("show"),t.animate({bottom:"0"},200),t.animate({padding:"0"},300)):t.removeClass("show")}},subscribeForm={init:function(){$("#mailer-subscribe-form input.charset").val(document.charset||document.characterSet),$("#mailer-subscribe-form").submit(function(){var e=$(this),t=e.find('input[name="username"]'),i=e.find(".js-submit-form"),a=e.find('input[name="agree"]'),s=e.find(".js-subscribe-load"),n=!1;return t.removeClass("error"),a.closest(".js-subscribe-agree").removeClass("error"),a.length>0&&!a.is(":checked")&&(a.closest(".js-subscribe-agree").addClass("error"),n=!0),t.val()&&validateEmail(t.val())?t.attr("name","email"):(t.addClass("error"),n=!0),!1===n?(i.hide(),s.show(),$("#mailer-subscribe-error").hide(),$.post(e.attr("action"),e.serialize(),function(e){t.attr("name","username"),"ok"==e.status?($(".js-subscribe-inputs").hide(),e.data.html&&$("#mailer-subscribe-thankyou").html(e.data.html),$("#mailer-subscribe-thankyou").show(),$("#mailer-subscribe-error").hide()):$("#mailer-subscribe-error").show(),i.show(),s.hide()})):t.attr("name","username"),!1})}},versionSite={init:function(){var e=this;e.switchVersion(),e.removeLink()},switchVersion:function(){$(".js-switch-version-link").on("click",function(e){e.preventDefault(),$.cookie("is_desktop_for_mobile")?$.cookie("is_desktop_for_mobile","",{path:"/",expires:5}):$.cookie("is_desktop_for_mobile",1,{path:"/",expires:5}),location.reload()})},removeLink:function(){$(".js-switch-version-remove").on("click",function(e){e.preventDefault(),$.cookie("is_hide_link_version_site",1,{path:"/",expires:1}),$(".js-switch-version").remove()})}},openMap={init:function(){$(".js-open-map").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})}},tags={init:function(){this.showAll()},showAll:function(){$(".js-show-tags").on("click",function(){var e=$(this),t=e.closest(".js-tags").find(".js-tag");e.hasClass("open")?(e.removeClass("open"),t.addClass("hide")):(e.addClass("open"),t.removeClass("hide"))})}},skCallback={init:function(){var e=this;e.openModal(),e.onTriggerClose()},openModal:function(){var e=this,t=$(".js-sk-callback-open"),i=$(".js-sk-callback-block");t.size()&&i.size()&&t.magnificPopup({items:[{src:".js-sk-callback-block",type:"inline"}],midClick:!0,callbacks:{open:function(){e.closeCustomModals(),i.trigger("event-open")},close:function(){i.trigger("event-close")}}})},closeCustomModals:function(){$(".js-popup").hide(),$("body").removeClass("_popup-open")},onTriggerClose:function(){var e=$(".js-sk-callback-block");$(e).on("run-close",function(){$(this).find(".mfp-close").click()})}},pagePopup={init:function(){this.loadContent()},loadContent:function(){var e=this;$("body").on("click",".js-page-popup",function(t){t.preventDefault();var i=$(this),a=i.attr("href");a||(a=i.data("href")),$.magnificPopup.close(),$("body").prepend("<div class='js-loading-bg mfp-bg mfp-ready'><div class='mfp-preloader'></div></div>"),$.get(a+"?popup=1",function(t){$(".js-loading-bg").remove();var i=!1;$(t)&&("page-popup"==$(t).attr("id")?i=$(t):$(t).find("#page-popup").length&&(i=$(t).find("#page-popup")),i?e.openModal(i):location.href=a)})})},openModal:function(e){$.magnificPopup.open({items:{src:"<div class='popup-content popup-content--page'>"+e.outerHTML()+"</div>"},type:"inline"},0)}};window.SkOneclick||(SkOneclick=function(e){"use strict";var t=function(e){this.init(e)};return t.prototype={_config:{buttons:".js-sk-oneclick-open",cart:".js-sk-oneclick-open-cart",popup:".js-sk-oneclick-popup",block:".js-sk-oneclick-block",content:".js-sk-oneclick-content",close:".js-sk-oneclick-close",preload:".js-sk-oneclick-preload"},init:function(t){var i=this;if(i.params=e.extend({},i._config,t),i.initElements(),!i.elements.block.size())return!1;i.initButtons(),i.initCart(),i.onClose(),i.onTriggerClose(),i.onEventLoading()},initElements:function(){var t=this,i={};i.popup=e(t.params.popup),i.block=i.popup.find(t.params.block),i.content=i.popup.find(t.params.content),i.close=i.popup.find(t.params.close),i.preload=i.block.find(t.params.preload),t.elements=i},initButtons:function(){var t=this,i=t.elements;e("body").on("click",t.params.buttons,function(){var t=e(this),a=t.data("type");if(void 0===a&&"product"!=a&&"cart"!=a)return!0;i.preload.show(),i.popup.show(),e("body").addClass("_popup-open");var s={form:t.closest("form"),type:"product"};if(!s.form.size())return console.log("Форма не найдена"),!1;i.block.trigger("event-open",s)})},initCart:function(){var t=this,i=t.elements;e("body").on("click",t.params.cart,function(){var t=e(this),a=t.data("type");if(void 0===a&&"product"!=a&&"cart"!=a)return!0;i.preload.show(),i.popup.show(),e("body").addClass("_popup-open");var s={form:t.closest("form"),type:"cart"};if(!s.form.size())return console.log("Форма не найдена"),!1;i.block.trigger("event-open",s)})},onClose:function(){var e=this,t=e.elements;t.close.on("click",function(){t.block.trigger("event-close"),e.closePopup()})},onTriggerClose:function(){var e=this;e.elements.block.on("run-close",function(){e.closePopup()})},closePopup:function(){var t=this,i=t.elements;i.popup.hide(),i.preload.show(),i.content.html(""),e("body").removeClass("_popup-open")},onEventLoading:function(){var e=this;e.elements.block.on("event-load",function(t,i){e.elements.preload.hide()})}},t}(jQuery));var cart={init:function(){var e=this;e.addToCart(),e.cartDialog(),e.selectQuantity(),e.countQty()},cartDialog:function(){$("body").on("click",".js-product-card-dialog",function(){$.magnificPopup.open({items:{src:$(this).data("href")},type:"ajax",callbacks:{parseAjax:function(e){if("string"==typeof e.data||e.data instanceof String){var t="<div>"+e.data+"</div>";e.data=$(t).find(".js-popup-content")}else e.data=$(e.data)},ajaxContentAdded:function(){var e=this.content.find("#product-cart");e.length&&e.data("id")&&productListCustom.viewed(e.data("id")),is_touch_device()||productGallery.productImageZoom(this.content.find(".js-product-gallery-main")),productGallery.swipeLargePhoto(this.content.find(".js-product-gallery-main")),productGallery.previewsBxSlider=productGallery.previewsCarouselInit(this.content.find(".js-product-gallery-previews"))},open:function(){$.magnificPopup.instance._onFocusIn=function(e){if($(e.target).closest("#storequickorder"))return!0;$.magnificPopup.proto._onFocusIn.call(this,e)}}}},0)})},addToCart:function(){var e=this;$("body").on("submit",".js-add-to-cart",function(t){t.preventDefault();var i=$(this),a=i.attr("action"),s=i.serialize(),n=$(".js-cart-preview-count"),o=$(".js-cart-preview-total"),r=$("#cart-form-dialog"),l=i.find(".js-submit-form");l.addClass("cart-loading"),$.post(a+"?html=1",s,function(t){l.removeClass("cart-loading"),"ok"==t.status?(n.html(t.data.count),o.html(t.data.total),productListCustom.showAddedMsg($(".js-preview-cart")),r.length>0&&$.magnificPopup.close(),"popup"==i.data("after-action")?e.popupAddCart(i):"fixed"==i.data("after-action")?fixedCart.show():"move"==i.data("after-action")&&e.animationMoveToCart(i)):messages.notifyDanger(t.errors)},"json")})},animationMoveToCart:function(e){var t=e.closest(".js-product").find(".js-product-cart-preview");0==t.length&&(t=e.closest(".js-product-cart-preview"));var i=t.data("position"),a=$("<div></div>").append(t.html()),s=$(".js-fixed .js-preview-cart");s.length&&s.is(":visible")||(s=$(".js-header-cart")),a.css({"z-index":100,top:t.offset().top,left:t.offset().left,width:t.width()+"px",height:t.height()+"px",position:i||"absolute",overflow:"hidden",background:"#FFF"}).insertAfter("body").animate({top:s.offset().top,left:s.offset().left,width:0,height:0,opacity:.7},650,function(){a.remove(),productListCustom.showAddedMsg($(".js-preview-cart"))})},popupAddCart:function(e){var t=$("#popup-addcart"),i=e.data("name"),a=e.data("price"),s=e.data("image"),n=1,o=e.find("input[name='quantity']");o.length&&(n=o.val()),t.find(".js-popup-addcart-name").html(i),t.find(".js-popup-addcart-price").html(a),t.find(".js-popup-addcart-count").html("(x"+n+")"),s?t.find(".js-popup-addcart-image").html("<img src='"+s+"' />"):t.find(".js-popup-addcart-image").html(""),$.magnificPopup.open({items:{src:t,type:"inline"},callbacks:{afterClose:function(){t.find(".js-popup-addcart-name").html(""),t.find(".js-popup-addcart-price").html(""),t.find(".js-popup-addcart-count").html(""),t.find(".js-popup-addcart-image").html("")}}}),$(".js-close-popup-addcart").on("click",function(){$.magnificPopup.close()})},selectQuantity:function(){$("body").on("click",".js-pr-count-action",function(){var e=$(this),t=e.data("action"),i=e.closest(".js-pr-count"),a=i.find("input"),s=a.val();"add"==t?a.val(parseInt(s)+1):s>1&&a.val(parseInt(s)-1),a.change()})},countQty:function(){$("body").on("click",".js-qty-action",function(){var e=$(this),t=e.closest(".js-qty"),i=e.data("type"),a=t.find("input"),s=parseInt(a.val());"-"==i?s>1?s--:s=1:s?s++:s=1,a.val(s),a.change()})}},messages={notifySuccess:function(e,t){e||(e="Sent!"),$.notify({message:e,icon:"fa fa-check"},{delay:5e3,type:"success",placement:{align:"right",from:"bottom"}})},notifyRemoveElement:function(e){e||(e="Deleted!"),$.notify({message:e},{delay:5e3,placement:{align:"right",from:"bottom"}})},notifyDanger:function(e){e||(e="An error has occurred!"),$.notify({message:e,icon:"fa fa-exclamation-circle"},{delay:5e3,type:"danger",placement:{align:"right",from:"bottom"}})}},specialProducts={init:function(){$(".js-special-list").bxSlider({slideWidth:244,minSlides:1,maxSlides:5,slideMargin:15,moveSlides:1,pager:!1,nextText:"",prevText:"",infiniteLoop:!1,hideControlOnEnd:!0})}},productTile={init:function(){var e,t=$(".no-touch .js-product-tile");t.hover(function(){var t=$(this),i=t.prev(),a=t.find(".js-action"),s=t.find(".js-dialog");a.css({marginTop:"15px",opacity:0}),i.length&&t.offset().top==i.offset().top&&i.addClass("next-hover"),t.addClass("hover"),a.first().show(),a.first().animate({marginTop:"0",opacity:1},300),e=setTimeout(function(){a.last().show(),a.last().animate({marginTop:"0",opacity:1},150)},150),s.fadeIn(),t.find(".js-product-preview-img").animate({maxHeight:"100%",maxWidth:"100%"},150)},function(){var t=$(this),i=t.prev(),a=t.find(".js-action"),s=t.find(".js-dialog");clearTimeout(e),i.removeClass("next-hover"),t.removeClass("hover"),a.first().stop(),a.last().stop(),a.hide(),s.hide();var n=t.find(".js-product-preview-img");n.stop(),n.removeAttr("style")})}},productListCustom={init:function(){var e=this;e.compare(),e.favorites(),e.clear(),e.viewed()},viewed:function(e){var t=this;$("#product-cart").length&&$("#product-cart").data("id")&&t.add("viewed_list",$("#product-cart").data("id"),20)},compare:function(){this.list("shop_compare",$(".js-preview-compare"),".js-add-to-compare",compareProductSidebar.list)},favorites:function(){this.list("favorites_list",$(".js-preview-favorite"),".js-add-to-favorites")},list:function(e,t,i,a){var s=this;$("body").on("click",i,function(n){n.preventDefault();var o=$(this),r=0,l=!0,d=t.find(".js-products-list-count"),c=t.find(".js-products-list-link"),u=$(this).data("product");o.hasClass("active")?(r=s.remove(e,u),l=!1):r=s.add(e,u);var p=r>0?c.attr("href").replace(/compare\/.*$/,"compare/"+s.get(e)+"/"):"/compare/";c.attr("href",p),d.html(r),l&&s.showAddedMsg(t),$(i+"[data-product='"+u+"']").toggleClass("active"),a&&a({that:o,url:p,productId:u,isAdded:l})})},add:function(e,t,i){var a=this,s=$.cookie(e),n=[];if(s&&"null"!=s&&"0"!=s){s=s.replace(",null",""),s=s.replace(",0","");var n=s.split(","),o=$.inArray(t+"",n);-1!=o&&n.splice(o,1)}return n.unshift(t),i&&n.splice(i),a.save(n,e),n.length},remove:function(e,t){var i=this,a=$.cookie(e);a=a?a.split(","):[];var s=$.inArray(t+"",a);return-1!=s&&a.splice(s,1),i.save(a,e),a.length},get:function(e){return $.cookie(e)},save:function(e,t){if(e.length>0)for(var i=0;i<e.length;i++)parseInt(e[i])||e.splice(i,1);e.length>0?$.cookie(t,e.join(","),{expires:30,path:"/"}):$.cookie(t,null,{path:"/"})},clear:function(){var e=this;$(".js-clear-pr-list").on("click",function(){var t=$(this),i=[],a=t.data("list")+"_list";e.save(i,a),location.reload()})},showAddedMsg:function(e){e.addClass("active"),setTimeout(function(){e.removeClass("active")},3e3)}},compareProductSidebar={list:function(e){var t=e.that,i=e.url,a=e.productId,s=e.isAdded,n=$(".js-compare-products-full"),o=$(".js-compare-products-empty"),r=$(".js-compare-products-list"),l=$(".js-compare-template");if($(".js-sidebar-compare-link").attr("href",i),s){if(r.length&&t.data("name")&&l){var d=l.clone();d.removeClass("js-compare-template").addClass("js-compare-product"),d.attr("data-product",a),d.find(".js-add-to-compare").attr("data-product",a).addClass("active"),d.find(".js-compare-name").text(t.data("name")),d.find(".js-compare-name").attr("href",t.data("url")),d.find(".js-compare-img").attr("href",t.data("url")),t.data("img")&&d.find(".js-compare-img").html("<img src='"+t.data("img")+"'>"),l.after(d),d.show()}}else{$('.js-compare-product[data-product="'+a+'"]').remove()}$(".js-compare-product").length?(o.hide(),n.show()):(o.show(),n.hide())}},productsHome={init:function(){var e=this,t=$(".js-mainpage-products");t.length&&t.each(function(){e.carousel($(this))})},carousel:function(e){var t=this;e.removeClass("active"),e.parent().find(".js-mainpage-products-more").remove(),e.after('<span class="mainpage-products-more js-mainpage-products-more"></span>');var i=e.find(".js-product-tile");if(i.removeClass("hide"),i.length){var a=i.first(),s=a.offset().top,n=e.data("count-line")?parseInt(e.data("count-line")):1,o=0,r=0,l=0;i.each(function(){var t=$(this),i=t.offset().top;i!=r&&o++,1==o&&l++,s<i&&o<=n&&(s=i),s<i&&l>2&&(t.addClass("hide"),e.addClass("active")),r=i}),t.showElements(e,l)}},showElements:function(e,t){e.parent().find(".js-mainpage-products-more").on("click",function(){var i=(e.find(".js-product-tile"),e.find(".js-product-tile.hide")),a=0;i.each(function(){var e=$(this);a<t&&(e.removeClass("hide"),e.find(".js-product-preview-img").removeAttr("height").removeAttr("width")),a++}),e.find(".js-product-tile.hide").length?e.addClass("active"):e.removeClass("active"),void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()})}},productsCarousel={carouselProductsWrap:$(".js-product-owl-carousel"),init:function(){var e=this;if(!e.carouselProductsWrap.length)return!1;e.prepareProductListCarousels(),e.carouselInteraction(),$(window).one("resize",e.carouselsInit)},carouselsInit:function(){productsCarousel.carouselProductsWrap.each(function(){var e=$(this);productsCarousel.carousel(e)})},prepareProductListCarousels:function(){this.carouselProductsWrap.each(function(){var e=$(this).find(".owl-carousel"),t=e.outerWidth(),i=$(this).find(".js-product-tile"),a=i.length;if(i.first().outerWidth(!0)*a>t){var s=$(this).find(".js-carousel-direction");s.append('<div data-index="prev" class="js-slider-init-interaction owl-prev disabled"></div>'),s.append('<div data-index="next" class="js-slider-init-interaction owl-next"></div>')}var n=e.offset().left+e.outerWidth();i.slice(0,5).each(function(){$(this).offset().left<n&&$(this).find(".owl-lazy").Lazy({afterLoad:function(e){e.removeClass("owl-lazy"),$.Retina&&e.retina()}})})})},carouselInteraction:function(){var e=this;$(".js-slider-init-interaction").on("click",function(){var t=$(this).closest(".js-product-owl-carousel");e.carousel(t,$(this).data("index"))}),is_touch_device()&&$(".js-product-owl-carousel .owl-carousel").each(function(){$(this).swipe({allowPageScroll:"auto",threshold:20,swipe:function(t,i,a,s,n,o){var r=$(this).closest(".js-product-owl-carousel");"left"==i?e.carousel(r,"next"):"right"==i&&e.carousel(r,"prev")}})})},carousel:function(e,t){if(e.hasClass("carousel-init"))return!1;var i=e.find(".owl-carousel"),a=e.find(".js-carousel-direction"),s=e.data("swipe"),n=i.data("type-mobile-preview"),o=i.closest(".cols-2").length,r=i.closest(".cols-3").length,l={};l=r?n?{0:{items:2},700:{items:3}}:{0:{items:1},400:{items:2},700:{items:3}}:o?n?{0:{items:2},700:{items:3},1250:{items:4}}:{0:{items:1},400:{items:2},700:{items:3},1250:{items:4}}:n?{0:{items:2},700:{items:3},1e3:{items:4},1250:{items:5}}:{0:{items:1},400:{items:2},700:{items:3},1e3:{items:4},1250:{items:5}},i.owlCarousel({loop:!1,margin:0,nav:!0,dots:!1,mouseDrag:s,navText:["",""],navElement:"div",navContainer:a,responsive:l,lazyLoad:!0,onInitialize:function(t){e.find(".js-slider-init-interaction").remove()},onInitialized:function(t){e.addClass("carousel-init")},onDragged:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onTranslated:function(e){void 0!==$.autobadgeFrontend&&$.autobadgeFrontend.reinit()},onLoadedLazy:function(e){var t=$(e.currentTarget);t.length&&$.Retina&&t.find(".owl-item.active .js-product-preview-img").retina()}}),t&&("prev"==t?i.trigger("prev.owl.carousel"):"next"==t&&i.trigger("next.owl.carousel"))}},videoPopup={init:function(){$("body").on("click",".js-video-popup",function(e){e.preventDefault();var t=$(this).data("href");t&&$.magnificPopup.open({items:{src:t},type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,iframe:{patterns:{youtube_short:{index:"youtu.be/",id:"youtu.be/",src:"//www.youtube.com/embed/%id%?autoplay=1"}}}},0)})}},infoMessage={init:function(e){var t=this;if(!e.length)return!1;t.checkOpen(e)&&(t.runOpen(e),t.onClose(e))},checkOpen:function(e){var t=e.data("id");return!$.cookie("close_info_massage_"+t)},runOpen:function(e){e.show()},onClose:function(e){var t=e.data("id");e.find(".js-info-message-close").on("click",function(){e.detach(),$.cookie("close_info_massage_"+t,1,{path:"/",expires:365})})}},lazyImages={init:function(){$(".js-image-lazy").lazy({bind:"event"})}},productsPreviewList={init:function(){var e=this;$(".js-preview-products").each(function(){e.images($(this))})},images:function(e){var t=e.data("retina"),i=e.data("image-lazy"),a=e.find(".js-product-preview-img:not(.owl-lazy)");i?a.lazy({afterLoad:function(e){t&&e.retina(),new productTileGallery}}):t&&a.retina()}},popupAdvert={init:function(e){var t=this;if(!e.length)return!1;(t.isNotTabu()||t.checkOpen(e))&&t.runLogic(e)},checkOpen:function(e){var t=e.data("id");return!$.cookie("popup_advert_close_"+t)},isNotTabu:function(){var e=$.cookie("popup_advert_tabu");return void 0===e&&!e},runLogic:function(e){var t=parseInt(e.data("time")),i=parseInt(e.data("tabu")),a=e.data("id");t||(t=10),i||(i=10),setTimeout(function(){$.magnificPopup.open({items:{src:e,type:"inline"},callbacks:{open:function(){$.cookie("popup_advert_tabu",1,{path:"/",expires:i}),$.cookie("widget_popup_advert_close_"+a,1,{path:"/",expires:365})}}})},1e3*t)}};if(!window.SocialWidgets)var SocialWidgets=function(e){"use strict";var t=function(e){this.init(e)};return t.prototype={_params:{container:".js-social-widgets",timeAutoSwitch:5e3,autoSwitch:!1},getParams:function(){return this._params},getParam:function(e){return this._params[e]},setParam:function(e,t){this._params[e]=t},init:function(t){var i=this;return i.autoTimer=null,i._params=e.extend({},i._params,t),i._params.preload="switch",i.initElements(),"undefined"!=typeof vivaSocialWidgetsData&&(i.data=vivaSocialWidgetsData,i.dataInst=vivaSocialWidgetsInst,!!i.elements.container.size()&&(i.active=Object.keys(i.elements.contentsArray)[0],i.autoSwitch=i.elements.container.data("auto"),parseInt(i.elements.container.data("time"))&&(i._params.timeAutoSwitch=parseInt(i.elements.container.data("time"))),i.elements.container.data("preload")&&(i._params.preload=i.elements.container.data("preload")),i.initTabs(),void setTimeout(function(){i.initAuto()},3e3)))},initElements:function(){var t=this,i={};if(t.elements=i,i.container=e(t._params.container),!i.container.size())return!1;i.tabs=i.container.find(".js-social-widgets-tab"),i.tabsArray={},i.tabs.each(function(){i.tabsArray[e(this).attr("data-tab")]=e(this)}),i.contents=i.container.find(".js-social-widgets-content"),i.contentsArray={},i.contents.each(function(){i.contentsArray[e(this).attr("data-content")]=e(this)}),t.elements=i},initTabs:function(){var t=this,i=t.elements,a=i.container;a.hover(function(){t.pauseAuto()},function(){t.initAuto()});for(var s in t.data)if(void 0!==i.contentsArray[s]&&("instagram"==s?t.runInstagram():i.contentsArray[s].html(t.data[s]),"switch"==t._params.preload))break;a.find("[data-tab]").on("click",function(){var a=e(this),s=i.tabs.filter("._active").attr("data-tab"),n=a.attr("data-tab");s!=n&&(t.stopAuto(),t.switch(n))})},switch:function(e){var t=this,i=t.elements,a=i.tabsArray[e],s=i.contentsArray[e];t.active=e,i.tabs.removeClass("_active"),a.addClass("_active"),i.contents.removeClass("_show"),s.html()||("instagram"==e?t.runInstagram():s.append(t.data[e])),s.addClass("_show")},initAuto:function(){var e=this,t=e.elements,i=e.getParam("timeAutoSwitch");if(!e.autoSwitch)return!1;e.autoTimer=setInterval(function(){var i=e.active,a=t.tabsArray[i].next(".js-social-widgets-tab");a.size()||(a=t.tabs.first());var s=a.attr("data-tab");e.active=s,e.switch(s)},i)},pauseAuto:function(){var e=this;clearInterval(e.autoTimer)},stopAuto:function(){var e=this;clearInterval(e.autoTimer),e.autoSwitch=!1},runInstagram:function(){var t=this;(e("#social-widgets-content-instagram").html("<div id='list-instagram' class='list-instagram'></div>"),"undefined"!=typeof Instafeed&&t.dataInst)&&new Instafeed({get:"user",userId:t.dataInst.userId,target:"list-instagram",clientId:t.dataInst.clientId,accessToken:t.dataInst.accessToken,limit:t.dataInst.limit,template:'<div class="list-instagram__item"><a class="list-instagram__link" href="{{link}}" target="_blank"><img class="list-instagram__img" src="{{image}}" alt="{{caption}}" /></a></div>'}).run()}},t}(jQuery);window.productTileGallery||(productTileGallery=function(e){var t=function(e){this.init(e)};return t.prototype={_config:{images:{},heightFixed:!0},init:function(t){var i=this;if(e("body").hasClass("touch"))return!1;i.params=e.extend({},i._config,t),i.runGallery()},runGallery:function(){var t=this;e(".js-tile-gallery").each(function(){var i=e(this),a=i.find(".js-tile-gallery-block"),s=i.find(".js-product-preview-img"),n=i.find(".js-tile-gallery-item").length;s.data("src")||s.attr("data-src",s.attr("src"));var o=s.data("src");if(!i.size()||!a.size()||!s.size()||n<2||i.hasClass("_tile-active"))return!0;i.addClass("_tile-active"),a.removeAttr("style"),t.params.heightFixed&&a.on("mouseenter",function(){a.css("height",a.height()+"px"),a.css("line-height",a.height()+"px")}),i.find(".js-tile-gallery-item").on("mouseenter",function(){var t=e(this).data("img");e("<img>").attr("src",t).load(function(){s.attr("src",t),s.retina()})}),a.on("mouseleave",function(){s.attr("src",o),s.retina()})})}},t}(jQuery));var categoriesImages={init:function(){this.categoriesList()},categoriesList:function(){var e=this;$(".js-categories-list").each(function(){var t=$(this),i=t.data("retina"),a=t.data("lazy"),s=t.find(".js-categories-item-image");a?e.lazyImages(s,i):i&&e.retinaImages(s)})},lazyImages:function(e,t){var i=this;e.lazy({onFinishedAll:function(a){t&&i.retinaImages(e)}})},retinaImages:function(e){e.each(function(){var e=$(this),t=e.attr("src");if(t.indexOf("?")>=0){var i=t.substring(t.lastIndexOf(".")+1),a=t.replace("."+i,"@2x."+i);e.attr("data-at2x",a)}}).promise().done(function(){e.retina()})}},customGalleryPopup={init:function(){var e=this;$(".js-custom-gallery").on("click",function(t){t.preventDefault();var i=[],a=$(this),s=$(this).data("group"),n=0,o=[];if(s&&(o=$('.js-custom-gallery[data-group="'+s+'"]')),o.length>1)o.each(function(e){var t=$(this).attr("href"),s=$(this).attr("title");t&&(a.attr("href")==t&&(n=e),i.push({href:t,title:s}))}),e.openGallery(i,n);else{var r=a.attr("href"),l=a.attr("title");r&&(i.push({href:r,title:l}),e.openGallery(i))}})},openGallery:function(e,t){$.swipebox(e,{useSVG:!1,hideBarsDelay:!1,initialIndexOnArray:t,afterOpen:function(){function e(){var t=$("#swipebox-close");t.length&&t.trigger("click"),$(document).off("scroll",e)}$("#swipebox-overlay").addClass("opacity-black"),$("#swipebox-bottom-bar").addClass("swipebox-bottom-bar--pos-center"),$("#swipebox-arrows").addClass("swipebox-arrows--pos-center"),$(document).on("scroll",e)}})}},contentPopup={init:function(){var e=this;e.loadPage(),e.loadInline()},loadPage:function(){var e=this;$("body").on("click",".js-page-popup",function(t){t.preventDefault();var i=$(this),a=i.attr("href");a||(a=i.data("href")),$.magnificPopup.close(),$("body").prepend("<div class='js-loading-bg mfp-bg mfp-ready'><div class='mfp-preloader'></div></div>"),$.get(a+"?popup=1",function(t){$(".js-loading-bg").remove();var i=!1,t=$("<div>").append(t);$(t)&&($(t).find("#page-popup").length&&(i=$(t).find("#page-popup")),i?e.openModal(i,"page"):location.href=a)})})},loadInline:function(){var e=this;$("body").on("click",".js-content-popup",function(t){t.preventDefault();var i=$(this).data("href");if(i){var a=$("#"+i).clone();a.length&&(a.removeClass("display_none"),e.openModal(a,"custom"))}})},openModal:function(e,t){var i=null;t&&(i=" popup-content--"+t),$.magnificPopup.open({items:{src:"<div class='popup-content"+i+"'>"+e.outerHTML()+"</div>"},type:"inline"},0)}},fixedCart={init:function(){this.close()},show:function(){var e=$(".js-fixed-cart-outer");if(e.length){var t=e.data("cart-url")+"?fixed=1";e.html(""),$.get(t,function(t){$("<div>"+t+"</div>").find(".js-fixed-cart").length&&e.html(t)})}},close:function(){$("body").on("click",".js-cart-fixed-close",function(){$(".js-fixed-cart-outer").html("")})}},displayFontAwesome={init:function(){$("body").hasClass("icons-hidden")&&($.isFunction(window.fontSpy)?fontSpy("FontAwesome",{glyphs:"",success:function(){$("body").removeClass("icons-hidden")},failure:function(){$("body").removeClass("icons-hidden")}}):setTimeout(function(){$("body").removeClass("icons-hidden")},3e3))}},demoSettings={init:function(){var e=this;if(!$("#test-settings").length)return!1;$("#open-test-settings").on("click",function(e){e.preventDefault(),$.magnificPopup.open({items:{src:"#test-settings"},type:"inline"})}),$("#open-test-settings").one("click",function(t){t.preventDefault(),e.settings()})},settings:function(){function e(){i.forEach(function(e){$.removeCookie(e,{path:"/"})}),window.location.reload()}function t(e){i.forEach(function(t){var i=e.find(function(e){return e.name==t});if("#ffffff"==i.value&&(i.value=null),i){var a=new Date;a.setTime(a.getTime()+60*30*1e3),$.cookie(t,i.value,{expires:a,path:"/"})}window.location.reload()})}var i=["color_scheme","base_color","bg_color_navogation","second_color","homepage_bxslider_mode","homepage_product_view","body_bg","font"];$(".js-color-select").on("click",function(){$("#"+$(this).data("id")).val("#ffffff")}),$("#settings-form").submit(function(e){e.preventDefault(),t($(this).serializeArray())}),$(".js-select-setting-color").on("click",function(){var e=$(this),t=e.data("value");$(".js-setting-color").val(t),$(".js-select-setting-color").removeClass("selected"),e.addClass("selected")}),$(".js-clear-test-settings").on("click",function(){e(i)})}},productGallery={previewsBxSlider:null,init:function(){var e=this,t=jQuery;productGallery.previewsBxSlider=e.previewsCarouselInit(t(".js-product-gallery-previews")),productGallery.swipeLargePhoto(t(".js-product-gallery-main")),productGallery.popupPhotoswipe(),productGallery.popupSwipebox(),t("body").on("click",".js-gallery-preview a",function(e){e.preventDefault(),productGallery.changeLargeImage(t(this),!1)}),is_touch_device()||e.productImageZoom(t(".js-product-gallery-main"))},previewsCarouselInit:function(e){return!!e.length&&(e.bxSlider({mode:"vertical",slideWidth:60,minSlides:e.data("min-items"),slideMargin:6,pager:!1,nextText:"",prevText:"",infiniteLoop:!1,hideControlOnEnd:!0,oneToOneTouch:!1,touchEnabled:!1}),e)},mainCarouselInit:function(e,t){var i=this,a=0;if(e.length&&!e.hasClass("owl-loaded")){var s=e.closest(".js-product").find(".js-gallery-preview.selected");s.length&&"0"!=s.data("position")&&(a=parseInt(s.data("position"))),e.owlCarousel({loop:!1,nav:!1,margin:0,items:1,lazyLoad:!0,autoHeight:!1,dots:!1,startPosition:a,mouseDrag:!1,onLoadedLazy:function(e){var t=$(e.currentTarget);t.length&&$.Retina&&t.find(".owl-item.active .owl-lazy").retina()},onInitialized:function(){is_touch_device()||i.productImageZoom(e),i.displayImageTitle(e)},onChanged:function(e){var t=$(e.currentTarget),i=e.item.index,a=t.find('.js-product-gallery-main-el[data-position="'+i+'"]'),s=a.data("id");if("video"==a.data("id")&&!a.find("iframe").length){var n=a.data("video-url"),o=a.data("video-width"),r=a.data("video-height");a.html('<iframe src="'+n+'" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}if(s){var l=t.closest(".js-product").find(".js-gallery-preview");l.removeClass("selected");l.filter("[data-id='"+s+"']").addClass("selected")}},onDragged:function(e){var t=$(e.currentTarget);if(t.length){var a=t.closest(".js-product").find(".js-gallery-preview"),s=a.filter(".selected"),n=$(t).find(".owl-item.active .js-product-gallery-main-el").data("id");if(n){a.removeClass("selected");var o=a.filter("[data-id='"+n+"']");o.addClass("selected"),"true"==o.attr("aria-hidden")&&i.previewsBxSlider.length&&(parseInt(s.data("position"))>parseInt(o.data("position"))?i.previewsBxSlider.goToPrevSlide():parseInt(s.data("position"))<parseInt(o.data("position"))&&i.previewsBxSlider.goToNextSlide()),productGallery.displayImageTitle(t)}}}}),t&&("prev"==t?e.trigger("next.owl.carousel"):"next"==t&&e.trigger("prev.owl.carousel"))}},swipeLargePhoto:function(e){is_touch_device()&&e.swipe({allowPageScroll:"auto",threshold:20,swipe:function(e,t,i,a,s,n){var o=$(e.target).closest(".js-product").find(".js-product-gallery-main");"left"==t?productGallery.mainCarouselInit(o,"prev"):"right"==t&&productGallery.mainCarouselInit(o,"next")}})},changeLargeImage:function(e,t){var i=this,a=e.parent(),s=a.data("id"),n=e.closest(".js-product").find(".js-product-gallery-main"),o=n.find(".js-product-gallery-main-el");if(n.hasClass("owl-loaded")||i.mainCarouselInit(n),void 0==t&&(t=!0),a.addClass("selected").siblings().removeClass("selected"),s){var r=o.filter("[data-id='"+s+"']").data("position");void 0!==r&&(n.trigger("to.owl.carousel",[r,300]),productGallery.displayImageTitle(n))}},displayImageTitle:function(e){var t=e.closest(".js-product").find(".js-product-gallery-title"),i=e.find(".owl-item.active");if(t.text(""),t.length&&i.length){var a=i.find("img").attr("alt");a&&t.text(a)}},productImageZoom:function(e){if(e.length&&e.closest(".js-product-gallery").data("zoom")){e.find(".js-product-gallery-main-el").each(function(){$(this).zoom({url:$(this).attr("href"),onZoomIn:function(){$(this).parent().addClass("zooming")},onZoomOut:function(){$(this).parent().removeClass("zooming")}})})}},popupSwipebox:function(){$("body").on("click",".js-product-image-popup-swipebox",function(e){e.preventDefault();var t=$(this).closest(".js-product").find(".js-product-gallery"),i=$(this).closest(".js-product").find(".js-gallery-preview"),a=[],s=0;i.length?i.each(function(e){$(this).hasClass("selected")&&(s=e),$(this).data("video")?a.push({href:$(this).find("a").attr("href"),icon:'<i class="fa fa-video-camera" aria-hidden="true"></i>'}):a.push({href:$(this).find("a").attr("href"),src:$(this).find("img").attr("src")})}):a.push({href:$(this).attr("href"),src:$(this).find("img").attr("src")});var n=t.data("thumbs"),o=t.data("black-bg"),r=0;return $.swipebox(a,{useSVG:!1,hideBarsDelay:!1,thumbs:n,initialIndexOnArray:s,beforeOpen:function(){r=$(document).scrollTop()},afterClose:function(){$("body").removeClass("hidden-fixed"),$(window).scrollTop(r)},afterOpen:function(){if($("body").addClass("hidden-fixed"),!0===o&&$("#swipebox-overlay").addClass("opacity-black"),!0===n&&a.length>1){var e="",t=parseInt($("#swipebox-slider .slide.current").data("index"));a.forEach(function(i,a){var s="swipebox-thumbs_el js-swipebox-thumbs-el";t===a&&(s+=" active"),i.icon?e+='<a class="'+s+' swipebox-thumbs_el--icon" data-index="'+a+'" href="'+i.href+'">'+i.icon+"</a>":e+='<a class="'+s+'" data-index="'+a+'" href="'+i.href+'"><img src="'+i.src+'" /></a>'}),$("#swipebox-container").append('<div id="swipebox-thumbs" class="swipebox-thumbs">'+e+"</div>"),$("#swipebox-slider").css("padding-bottom",parseInt($("#swipebox-thumbs").outerHeight())+30+"px")}(!0===n&&a.length||o)&&($("#swipebox-bottom-bar").addClass("swipebox-bottom-bar--pos-center"),$("#swipebox-arrows").addClass("swipebox-arrows--pos-center"));var i=function(){var e=$("#swipebox-close");e.length&&e.trigger("click"),$(document).off("scroll",i)};$("#swipebox-slider").on("click",i)}}),!1})},popupPhotoswipe:function(){$("body").on("click",".pswp button",function(e){e.preventDefault()}),$("body").on("click",".js-product-image-popup-photoswipe",function(e){e.preventDefault();var t=$(this).closest(".js-product").find(".js-product-gallery"),i=$(this).closest(".js-product").find(".js-gallery-preview"),a=$(this).closest(".js-product").find(".js-product-gallery-main-el"),s=document.querySelectorAll(".pswp")[0],n=0,o=[];i.length?i.each(function(){var e=$(this);if(e.hasClass("selected")&&(n=e.data("position")),e.data("video")){var i=t.find("iframe");i.length&&o.push({html:'<iframe src="'+i.attr("src")+'" width="'+i.attr("width")+'" height="'+i.attr("height")+'"></iframe>'})}else o.push({src:e.find("a").attr("href"),w:0,h:0})}):a.length&&o.push({src:a.attr("href"),w:0,h:0});var r={index:n,shareEl:!1,history:!1},l=new PhotoSwipe(s,PhotoSwipeUI_Default,o,r);l.listen("gettingData",function(e,t){if(t.w<1||t.h<1){var i=new Image;i.onload=function(){t.w=this.width,t.h=this.height,l.updateSize(!0)},i.src=t.src}}),l.init()})}};Product.prototype.getEscapedText=function(e){return $("<div>").text(e).html()},Product.prototype.currencyFormat=function(e,t){var i,a,s,n,o,r=this.currency.frac_digits,l=this.currency.decimal_point,d=this.currency.thousands_sep;isNaN(r=Math.abs(r))&&(r=2),void 0==l&&(l=","),void 0==d&&(d="."),i=parseInt(e=(+e||0).toFixed(r))+"",(a=i.length)>3?a%=3:a=0,o=a?i.substr(0,a)+d:"",s=i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+d),n=r&&e-i?l+Math.abs(e-i).toFixed(r).replace(/-/,0).slice(2):"";var e=o+s+n,c=t?this.currency.sign:this.currency.sign_html;return this.currency.sign_position?e+this.currency.sign_delim+c:c+this.currency.sign_delim+e},Product.prototype.serviceVariantHtml=function(e,t,i){return $('<option data-price="'+i+'" value="'+e+'"></option>').text(t+" (+"+this.currencyFormat(i,1)+")")},Product.prototype.updateSkuServices=function(e){this.form.find(".js-product-code").length>0&&(this.form.find(".js-product-code").hide(),this.form.find(".sku-"+e+"-product-code").show()),this.form.find("div.stocks div").hide(),this.form.find(".sku-"+e+"-stock").show();for(var t in this.services[e]){var i=this.services[e][t];if(!1===i)this.form.find(".service-"+t).hide().find("input,select").attr("disabled","disabled").removeAttr("checked").trigger("refresh"),this.form.find(".service-"+t).find(".js-checkbox-styler, label").addClass("disabled");else if(this.form.find(".service-"+t).show().find("input").removeAttr("disabled").trigger("refresh"),this.form.find(".service-"+t).find(".js-checkbox-styler, label").removeClass("disabled"),"string"==typeof i||"number"==typeof i)this.form.find(".service-"+t+" .service-price").html(this.currencyFormat(i)),this.form.find(".service-"+t+" input").data("price",i);else{var a=this.form.find(".service-"+t+" .service-variants"),s=a.val();for(var n in i){var o=a.find("option[value="+n+"]");!1===i[n]?(o.hide().addClass("disable"),o.attr("value")==s&&(s=!1)):(s||(s=n),o.replaceWith(this.serviceVariantHtml(n,i[n][0],i[n][1])))}s||(s=this.form.find(".service-"+t+" .service-variants").find("option:not(.disable):first").attr("value")),this.form.find(".service-"+t+" .service-variants").val(s)}}},Product.prototype.updatePrice=function(e,t){if(void 0===e){var i=this.form.find(".skus input:radio:checked, .skus option:selected");if(i.length)var e=parseFloat(i.data("price")),t=parseFloat(i.data("compare-price"));else var e=parseFloat(this.add2cart.find(".price").data("price"))}t&&e?(this.add2cart.find(".js-compare-at-price").length||this.add2cart.find(".price").after('<span class="js-compare-at-price product__old-price old-price nowrap"></span>'),this.add2cart.find(".js-compare-at-price").html(this.currencyFormat(t)).show()):this.add2cart.find(".js-compare-at-price").html("");var a=this;this.form.find(".services input:checked").each(function(){var t=$(this).val();a.form.find(".service-"+t+"  .service-variants").length?e+=parseFloat(a.form.find(".service-"+t+"  .service-variants :selected").data("price")):e+=parseFloat($(this).data("price"))});var s=this.add2cart.find(".price"),n=this.currencyFormat(e),o=s.data("zero-text");0==e&&o?s.html('<span class="product_zero-price">'+o+"</span>"):s.html(n),a.updateDiscount(e,t),a.updateSaved(e,t),a.button.hasClass("disabled")||(0==e&&a.button.data("zero-price-disabled")?(a.button.addClass("disabled"),a.skFastButton.addClass("disabled")):(a.button.removeClass("disabled"),a.skFastButton.removeClass("disabled")))},Product.prototype.cartButtonVisibility=function(e){e&&(this.add2cart.find(".js-compare-at-price").show(),this.add2cart.find('input[type="submit"]').show(),this.add2cart.find(".price").show(),this.add2cart.find(".js-qty").show(),this.add2cart.find("span.added2cart").hide())},Product.prototype.showAllSkus=function(){$("body").on("click",".js-product-skus-show",function(){var e=$(this);e.closest(".js-product-skus").find(".js-product-skus-item").toggleClass("hide"),e.find(".js-icon-minus").toggleClass("hide"),e.find(".js-icon-plus").toggleClass("hide")})},Product.prototype.updateDiscount=function(e,t){if(this.discount.length){var i=0,a=this.discount.data("round"),s=parseInt(this.discount.data("minimal"));this.discount.addClass("display_none"),t>e&&e>0&&(i=(t-e)/t*100,(i="ceil"==a?Math.ceil(i):"floor"==a?Math.floor(i):Math.round(i))>=s&&this.discount.html("-"+i+"%").removeClass("display_none"))}},Product.prototype.updateSaved=function(e,t){if(this.savedWrap.length&&(this.savedWrap.addClass("display_none"),t>e&&e>0)){var i=e-t;this.savedWrap.html(this.currencyFormat(i)).removeClass("display_none")}},Product.prototype.updateURLSku=function(e){function t(e){var t={};return e=e.split("&"),$.each(e,function(e,i){if(i){var a=i.split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]?a[1]:"")}}),t}function i(e){var t="",i=[];return $.each(e,function(e,t){i.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),i.length&&(t="?"+i.join("&")),t}var a="sku",s=t(window.location.search.substring(1));e?s[a]=e:delete s[a];var n=i(s),o=location.origin+location.pathname+n+location.hash;"function"==typeof history.replaceState&&history.replaceState(null,document.title,o)},Product.prototype.updateFeaturesList=function(e){var t=$(".js-product-features");if(void 0!==this.sku_features&&void 0!==this.product_skus_features[e]&&t.length){var i=this.sku_features,a=this.product_skus_features[e],s=parseInt(this.short_features_count),n=this.short_features_codes?this.short_features_codes.split(","):[];t.each(function(){var e=$(this),t=e.data("type");e.html("");var o,r=1;for(var l in a){var d=a[l],c=void 0!==i[l].type&&"divider"==i[l].type;if(void 0===i[l]&&void 0!==i[l+".0"]&&(i[l]=i[l+".0"],i[l].name=i[l+".0"].name),"first"==t&&s>0&&r>s)break;if("short"!=t||!n.length||-1!==$.inArray(l,n)){var u="product_features-item";c&&(u+=" divider"),o='<tr class="'+u+'">',o+='<td class="product_features-title">',o+="<span>"+i[l].name+"</span>",o+="</td>",o+='<td class="product_features-value">',c||(o+=d),o+="</td>",e.append(o),r++}}})}},$(function(){main.init(),tabs.init(),accordionTabs.init(),form.init(),selectList.init(),menu.init(),slider.init(),photoGallery.init(),modalForm.init(),dropDownWrap.init(),categoriesMainMenu.init(),mobileMenu.init(),mobileSearch.init(),fixedPanel.init(),subscribeForm.init(),versionSite.init(),openMap.init(),tags.init(),skCallback.init(),pagePopup.init(),cart.init(),specialProducts.init(),productTile.init(),productListCustom.init(),productsHome.init(),productsCarousel.init(),videoPopup.init(),lazyImages.init(),productsPreviewList.init(),infoMessage.init($(".js-info-head")),popupAdvert.init($(".js-popup-advert")),categoriesImages.init(),customGalleryPopup.init(),contentPopup.init(),fixedCart.init(),displayFontAwesome.init(),demoSettings.init(),productGallery.init(),new SkOneclick({buttons:".js-sk-oneclick-open"}),new SocialWidgets({container:".js-social-widgets",timeAutoSwitch:5e3}),new productTileGallery}),$.fn.elementRealWidth=function(){$clone=this.clone().css("visibility","hidden").appendTo($("body"));var e=$clone.outerWidth(!0);return $clone.remove(),e},jQuery.fn.outerHTML=function(e){return e?this.before(e).remove():jQuery("<p>").append(this.eq(0).clone()).html()};